
### What is vmstat ?

vmstat reports information about processes, memory, paging, block IO, traps, disks and cpu activity.

The  first  report produced gives averages since the last reboot.  Additional reports give information on a sampling period of length delay.  The process and memory reports are instantaneous in either case.

### How to install vmstat ?

In most linux distribution vmstat is installed by default but if it is not installed on your distro vmstat is included in the procps-ng package.

```
sudo apt install procps-ng
```

### How to use vmstat ?

The syntax to use vmstat is as such : 

```
sudo vmstat [option] [delay] [count]
```

![Vmstat with count](/Assets/vmstat.png)

#### Procs

Statistics on running, waiting and blocked processes:

- "r": The run queue, the number of threads ready to be (or already) in "run" mode, waiting for cpu ressources.
- "b": The blocked queue (or wait queue), the number of threads waiting for ressources other than the CPU. For example, disk, memory, network.

#### Memory

Usage of physical and virtual memory, including swapping statistics:

- "swapd": Used swap space
- "free": Available memory
- "buff": Memory used in buffers
- "cache": Memory used in cache

#### Swap

Swap space usage :

- "si": "Swap in": Memory moved from swap to RAM to be used by active processes
- "so": "Swap out": Memory moved from RAM to swap to make room for other data in RAM.

#### IO

Statistics on input/output operations on devices:

- "bi": "Block in": Reading from block devices (hard disks) in KiB/s
- "bo": "Block out": Writing to block devices (hard disks) in KiB/s

#### System

CPU usage by the kernel and processes: 

- "in": "Interrupts": Number of interrupts generated by the system's I/O devices.
- "cs": "Context Switches": Number of context switches per second.

#### CPU

CPU usage:

- "us": "User time": Operations initiated in user mode : user programs, calculations, etc
- "sy": "System time": Operations initiated in kernel mode: socket creation, file opening, etc
- "id": "Idle": Time when the processor is idle.
- "wa": "Wait": Waiting for a ressource (disk, network, etc)
- "st": "Steal time": CPU time that has been "stolen" by virtual machines on the same physical host.
- "gu": "Guest time": CPU time used by guest processes, such as virtual machines or containers.